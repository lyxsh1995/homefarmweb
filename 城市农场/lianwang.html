<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="css/mui.min.css" rel="stylesheet" />
		<script src="js/mui.min.js"></script>
		<script type="text/javascript">
			mui.init()
			document.addEventListener("plusready", function() {
				switch(plus.os.name) {
					case "Android":
						Android();
						break;
					case "iOS":
						IOS();
						break;
				}
			}, false);

			function Android() {

				var Context = plus.android.importClass("android.content.Context");
				var WifiManager = plus.android.importClass("android.net.wifi.WifiManager");
				var wifiManager = plus.android.runtimeMainActivity().getSystemService(Context.WIFI_SERVICE);
				var WifiInfo = plus.android.importClass("android.net.wifi.WifiInfo");
				var wifiInfo = wifiManager.getConnectionInfo();
				var ipAddress = wifiInfo.getIpAddress();
				var myip = (ipAddress & 0xff) + "." + (ipAddress >> 8 & 0xff) + "." + (ipAddress >> 16 & 0xff) + "." + (ipAddress >> 24 & 0xff);
				alert(myip);
			}
			
			function IOS(){
				var WifiManager = plus.ios.importClass("CNCopySupportedInterfaces");
				
			}
		</script>
	</head>

	<body>
		<button id="sousuo">连接设备</button>
	</body>

</html>